<!--
@DanKiefer (210070253)
Corporate Audit Staff
2018.06.14 (inital release)
-->
<html>
<head>
</head>
<body>
<h2>OneSearch</h2>
  <!-- <p>Click the button to create a Text Field.</p> -->
  <!-- <input id="myInput" value="SSO"> -->
  <!-- Make default text go away when clicked -->
  <input id="myInput" value="210070253" onFocus="if(this.value == 'SSO') {this.value = '';}" onBlur="if (this.value == '') {this.value = 'SSO';}">
  <p>[ENTER] will default to GE people search.</p>
  <h3> All GE:</h3>
  <button id="defaultBtn" onclick="javescript:(searchGE('People',input.value))">People Search GE</button>
  <button id="peopleBtn" onclick="javascript:(searchGE('All',input.value))">General Search GE</button>
  <br>
  <h3>Direct SSO only:</h3>
  <button id="pictureBtn" onclick="javascript:(directGEsearch('profile',input.value))">SSO Profile</button>
  <button id="pictureBtn" onclick="javascript:(directGEsearch('orgchart',input.value))">SSO Org Chart</button>
  <button id="pictureBtn" onclick="javascript:(directGEsearch('GEphoto',input.value))">SSO Profile Picture</button>
  <br>
  <h3> Direct SSO (CAS only): </h3>
  <button id="pictureBtn" onclick="javascript:(directGEsearch('CAS',input.value))">SSO CAS Profile</button>
  <br>
  <!-- External search engines -->
  <h3> External </h3>
  <button id="pictureBtn" onclick="javascript:(webSearch('face',input.value))">Facebook</button>
  <button id="pictureBtn" onclick="javascript:(webSearch('linked',input.value))">LinkedIn</button>
  <button id="pictureBtn" onclick="javascript:(webSearch('gmaps',input.value))">Google Maps</button>
  <button id="pictureBtn" onclick="javascript:(webSearch('wiki',input.value))">Wikipedia</button>
  <button id="pictureBtn" onclick="javascript:(webSearch('youtube',input.value))">YouTube</button>
  <button id="pictureBtn" onclick="javascript:(webSearch('yelp',input.value))">Yelp</button>
  <br>
  <!-- <h3> Other: </h3> -->
  <!-- <input id="transInput" value="tudu bom" onFocus="if(this.value == 'tudu bom') {this.value = '';}" onBlur="if (this.value == '') {this.value = 'tudu bom';}">
  <button id="translate" onclick="javascript:(window.alert(this.value))">Google Translate</button> -->
  <!-- <button id="translate" onclick="javascript:(translateAutoToEnglish(this.value))">Google Translate</button> -->
<p>***People and All can handle general quearies (e.g. "Firstname Lastname"), but Picture ONLY works with exact SSO.</p>
<script>
    var x = document.createElement("INPUT");
    var input = document.getElementById("myInput");
    // Set default ENTER behavior ===============
    input.addEventListener("keyup", function(event) {
      event.preventDefault();
      if (event.keyCode ===13) {
        document.getElementById("defaultBtn").click();
      }
    });
    // Execute search ===================
    document.getElementById("myInput").appendChild(x);
    function searchGE(type,SSO) {
      // window.alert(type + " " + SSO);
      var url = "http://search.ge.com/#"+ type +"/" + SSO;
      window.open(url,'_blank');
    }
    //
    // var input2 = document.getElementById("transInput");
    // // Execute search ===================
    // document.getElementById("transInput").appendChild(x);
    // function translateAutoToEnglish(query) {
    //   // window.alert(type + " " + SSO);
    //   var url = "https://translate.google.com/#"+"auto"+"/"+"en/" + value;
    //   window.open(url,'_blank');
    // }
    function directGEsearch(type, SSO) {
      if (type =="profile") {var url = "https://employeeprofile.ge.com/employeeprofile/people/" + SSO;
      } else if (type =="orgchart") {var url = "https://employeeprofile.ge.com/employeeprofile/orgchart/" + SSO;
      } else if (type =="CAS") {var url = "https://audit.ge.com/audit/profile/casprofile/tabs.php?PersonName=" + SSO;
      } else if (type =="GEphoto") {var url = "https://supportcentral.gecdn.com/images/person/temp/" + SSO + ".jpg";
      } else {window.alert("Search error. Please try again.");
      }
      window.open(url,'_blank');
    }
    function webSearch(type, query) {
      if (type =="face") {var url = "https://www.facebook.com/search/top/?q=" + query + "&opensearch=1";
      } else if (type =="linked") {var url = "https://www.linkedin.com/search/results/index/?keywords=" + query + "&origin=GLOBAL_SEARCH_HEADER";
      } else if (type =="gmaps") {var url = "https://www.google.com/maps/search/" + query + "?hl=en&source=opensearch";
      } else if (type =="wiki") {var url = "https://en.wikipedia.org/w/index.php?title=Special:Search&search=" + query;
      } else if (type =="youtube") {var url = "https://www.youtube.com/results?search_query=" + query + "&page={startPage?}&utm_source=opensearch";
      } else if (type =="yelp") {var url = "https://www.yelp.com/search?find_desc=" + query + "&src=opensearch"
      } else {window.alert("Search error. Please try again.");
      }
      window.open(url,'_blank');
    }
    function translateAutoToEnglish(value) {
      var url = "https://translate.google.com/#"+"auto"+"/"+"en/" + value;
      window.alert(url);
      window.open(url,'_blank');
    }
// PARSE JSON
  //
  // function output(inp) {
  //     document.body.appendChild(document.createElement('pre')).innerHTML = inp;
  // }
  //
  // function syntaxHighlight(json) {
  //     json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
  //     return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
  //         var cls = 'number';
  //         if (/^"/.test(match)) {
  //             if (/:$/.test(match)) {
  //                 cls = 'key';
  //             } else {
  //                 cls = 'string';
  //             }
  //         } else if (/true|false/.test(match)) {
  //             cls = 'boolean';
  //         } else if (/null/.test(match)) {
  //             cls = 'null';
  //         }
  //         return '<span class="' + cls + '">' + match + '</span>';
  //     });
  // }
  //
  // var obj = {a:1, 'b':'foo', c:[false,'false',null, 'null', {d:{e:1.3e5,f:'1.3e5'}}]};
  // var str = JSON.stringify(obj, undefined, 4);
  // output(str);
  // output(syntaxHighlight(str));
// TAKE TWO
  function Get(yourUrl){
    var Httpreq = new XMLHttpRequest(); // a new request
    Httpreq.open("GET",yourUrl);
    Httpreq.send(null);
    // window.alert("hello");
    return Httpreq.responseText;
  }
  var myURL = "https://employeeprofile.ge.com/employeeprofile/search/typeaheadsearchresults?query=210070253";
  Get(myURL);
  // window.alert("here");
  // Get();
  // var json_obj = JSON.parse(Get(myURL));
  // window.alert("this is the author name: "+json_obj.author_name);
</script>
<p>@Dan Kiefer 2018.06.22</p>
</body>
</html>
<!-- https://www.quora.com/How-can-I-create-a-link-to-download-an-image-currently-displayed-on-a-div -->
